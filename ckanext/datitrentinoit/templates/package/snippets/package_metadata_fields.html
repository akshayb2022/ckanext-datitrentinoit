{% ckan_extends %}

{# Remove 'free extras' from the package form. If you're using
convert_to/from_extras() as we are with our 'custom_text' field below then
you need to remove free extras from the form, or editing your custom field
won't work. #}


{% block package_metadata_fields_url %}
    {{ form.input('url', label=_('Technical documentation'), id='field-url', placeholder=_('http://example.com/dataset.json'), value=data.url, error=errors.url, classes=['control-medium']) }}
{% endblock %}


{% block custom_fields %}
<hr>

{% set custom_fields = h.dti_get_custom_fields() %}

{% for field_name, field in custom_fields.iteritems() %}
{% if field_name == 'Descrizione campi' %}
    {{ form.textarea(field_name,
        label=field_name,
        id='field-' + field_name.replace(' ', '-'),
        placeholder=field.form_help,
        value=data[field_name],
        error=errors[field_name],
        classes=['control-full']) }}
{% else %}
    {{ form.input(field_name,
        label=field_name,
        id='field-' + field_name.replace(' ', '-'),
        placeholder=field.form_help,
        value=data[field_name],
        error=errors[field_name],
        classes=['control-medium']) }}
{% endif %}
{% endfor %}

<hr>
{{ super() }}
{% endblock %}
