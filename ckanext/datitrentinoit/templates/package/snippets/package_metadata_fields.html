{% ckan_extends %}

{# Remove 'free extras' from the package form. If you're using
convert_to/from_extras() as we are with our 'custom_text' field below then
you need to remove free extras from the form, or editing your custom field
won't work. #}

{% block custom_fields %}
<hr>

{% set custom_fields = h.dti_get_custom_fields() %}

{% for field_name, field in custom_fields.iteritems() %}
    {{ form.input(field_name,
        label=field_name,
        id='field-' + field_name.replace(' ', '-'),
        placeholder=field.form_help,
        value=data[field_name],
        error=errors[field_name],
        classes=['control-medium']) }}
{% endfor %}

<hr>
{{ super() }}
{% endblock %}
